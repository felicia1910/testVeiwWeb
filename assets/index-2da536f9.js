import{d as y,u as k,q as C,g,o as x,n as P,a as c,c as v,s as E,x as A,b as s,t as w,i as B,h as f,k as V,y as z,z as D,j as M,l as $,_ as b}from"./index-aa74e4ce.js";var h=(a=>(a[a.email=0]="email",a[a.phone=1]="phone",a))(h||{});const N={class:"err-mes"},S={class:"err-mes"},T=y({__name:"Sign",emits:["forget"],setup(a,{emit:m}){k();const{callUser:n,okUserInfo:d}=C(),e=g({findVale:"",password:"",findType:0}),o=g({findVale:"",password:""}),u=i=>/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(i),l=()=>(o.findVale=e.findVale?"":"Please type your account.",o.password=e.password?"":"Please type your password.",e.findVale&&e.password),_=()=>{l()&&(e.findType=u(e.findVale)?h.email:h.phone,n(e).then(i=>{const{isSuccess:t,message:r}=i;t?d():o.password=r}))};return x(()=>{}),(i,t)=>{const r=P("el-input");return c(),v("div",null,[E(s("input",{type:"text",placeholder:"Your Account(請輸入信箱或電話)","onUpdate:modelValue":t[0]||(t[0]=p=>e.findVale=p)},null,512),[[A,e.findVale]]),s("div",N,w(o.findVale),1),B(r,{modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=p=>e.password=p),type:"password",placeholder:"Your Password","show-password":""},null,8,["modelValue"]),s("div",S,w(o.password),1),s("div",{class:"btn bc-yellow",onClick:_},"Login"),s("div",{class:"forger-btn",onClick:t[2]||(t[2]=p=>m("forget",2))}," Forgot password ")])}}}),F={key:0},I=s("div",{class:"small-title"}," Enter your email and we'll send you a link to reset your password ",-1),L={class:"err-mes"},O={key:1},Y={class:"small-title"},Z=s("div",{class:"small-text"}," Check your email and open the link we sent to continue. ",-1),R=y({__name:"Forget",emits:["isClickForget"],setup(a,{emit:m}){k();const n=f(1),{forgetPassword:d}=C(),e=g({findVale:"",findType:h.email}),o=g({email:""}),u=()=>(o.email=e.findVale?"":"Please type your email.",e.findVale),l=()=>{u()&&d(e).then(i=>{const{isSuccess:t,message:r}=i;t?n.value=2:o.email=r})},_=()=>{m("isClickForget",1)};return x(()=>{}),(i,t)=>{const r=P("el-button");return c(),v("div",null,[n.value==1?(c(),v("div",F,[I,E(s("input",{type:"text",placeholder:"Your Email address","onUpdate:modelValue":t[0]||(t[0]=p=>e.findVale=p)},null,512),[[A,e.findVale]]),s("div",L,w(o.email),1),s("div",{class:"btn bc-yellow",onClick:l},"Send link to email")])):V("",!0),n.value==2?(c(),v("div",O,[s("div",Y,[B(r,{type:"success",icon:z(D),circle:""},null,8,["icon"]),M("    Email sent ")]),Z,s("div",{class:"forger-btn text-left",onClick:_},"Bake to login page")])):V("",!0)])}}}),U={class:"sign-in"},j={class:"nav sign-in-nav"},q={class:"nav-bc"},G={class:"nav-top"},H=["src"],J={class:"sign-in-nav-middle"},K=["src"],W=y({__name:"index",setup(a){const m=k(),n=f(""),d=f(""),e=f(1),o=async()=>{let l=await b(()=>import("./Chinachem icon-0d084d88.js"),[],import.meta.url);d.value=l.default;let _=await b(()=>import("./Banner-1a2373df.js"),[],import.meta.url);n.value=_.default,m.userOldPassword&&(e.value=3)},u=l=>{e.value=l};return x(()=>{o()}),(l,_)=>(c(),v("div",U,[s("div",j,[s("div",q,[s("div",G,[s("img",{class:"nav-top-img",src:d.value},null,8,H)]),s("div",J,[e.value==1?(c(),$(T,{key:0,onForget:u})):V("",!0),e.value==2?(c(),$(R,{key:1,onIsClickForget:u})):V("",!0)])])]),s("img",{class:"sign-in-pic",src:n.value},null,8,K)]))}});export{W as default};
